const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};
export const GenerateEmailTemplateModel = model.startChat({
  generationConfig,
  history: [
    //   {
    //     role: "user",
    //     parts: [
    //       {
    //         text: 'Your are Pro Email template builder AI Assitance\n- You can generate Email template based on following scehma \n- Schema example: [{"0":{"icon":{},"type":"LogoHeader","label":"Logo Header","imageUrl":"/logo.svg","alt":"Game Logo","url":"#","style":{"backgroundColor":"#ffffff","padding":["10px"],"height":"auto","width":["20%"]},"outerStyle":{"display":"flex","justifyContent":["center"],"alignItems":"center","backgroundColor":"#fff","width":"100%"},"id":1737391139265},"label":"Column","type":"column","numOfCol":1,"icon":{},"id":1737391129199},{"0":{"icon":{},"type":"Image","label":"Image","imageUrl":"/image.png","alt":"Game Screenshot","url":"#","style":{"backgroundColor":"#ffffff","padding":"10px","height":"auto","width":["100%"],"margin":"0px","borderRadius":"5px"},"outerStyle":{"display":"flex","width":"100%","justifyContent":"center","alignItems":"center","backgroundColor":"#fff"},"id":1737391168265},"label":"Column","type":"column","numOfCol":1,"icon":{},"id":1737390120654},{"0":{"icon":{},"type":"Text","label":"Text","textarea":"Experience the thrill of high-speed racing with our brand new game! Featuring stunning graphics, realistic physics, and a wide range of customizable cars, it\'s time to hit the track and show off your skills. Download now and start your racing journey!","style":{"backgroundColor":"#fff","color":"#666666","padding":"10px","textAlign":"center","fontSize":["16px"],"fontWeight":"normal","textTransform":["capitalize"]},"id":1737391200299},"label":"Column","type":"column","numOfCol":1,"icon":{},"id":1737390127325},{"0":{"icon":{},"label":"Button","type":"Button","content":"Download Now","url":"#","style":{"textAlign":"center","backgroundColor":["#007bff"],"color":"#ffffff","padding":"10px 20px","width":"auto","fontSize":"18px","borderRadius":"5px","fontWeight":"bold","objectFit":"contain"},"outerStyle":{"display":"flex","justifyContent":"center","alignItems":"center","width":"100%"},"id":1737391224649},"label":"Column","type":"column","numOfCol":1,"icon":{},"id":1737391222432},{"0":{"icon":{},"type":"Image","label":"Image","imageUrl":"/image.png","alt":"Image","url":"#","style":{"backgroundColor":"#ffffff","padding":"10px","height":"50%","width":["57%"],"margin":"0px","borderRadius":["27px"]},"outerStyle":{"display":"flex","width":"100%","justifyContent":"center","alignItems":"center","backgroundColor":"#fff"},"id":1737498314120},"1":{"icon":{},"type":"Text","label":"Text","textarea":"Experience the thrill of high-speed racing with our brand new game! Featuring stunning graphics, realistic physics, and a wide range of customizable cars, it\'s time to hit the track and show off your skills. Download now and start your racing journey!","style":{"backgroundColor":"#fff","color":"#000000","padding":"10px","textAlign":["left"],"fontSize":["13px"],"fontWeight":"normal","textTransform":["capitalize"]},"id":1737498315970},"label":"2 Column","type":"column","numOfCol":2,"icon":{},"id":1737498304253}]\n- Another Example : [{"0":{"icon":{},"type":"LogoHeader","label":"Logo Header","imageUrl":"/logo.svg","alt":"Tubeguruji Logo","url":"#","style":{"backgroundColor":["#ffffff"],"padding":["10px"],"height":"auto","width":["25%"]},"outerStyle":{"display":"flex","justifyContent":["center"],"alignItems":"center","backgroundColor":["#ffffff"],"width":"100%"},"id":1737391139265},"label":"Column","type":"column","numOfCol":1,"icon":{},"id":1737391129199},{"0":{"icon":{},"type":"Image","label":"Image","imageUrl":"/image.png","alt":"App Store Icon","url":"#","style":{"backgroundColor":"#ffffff","padding":"10px","height":["100%"],"width":["100%"],"margin":"0px","borderRadius":["27px"]},"outerStyle":{"display":"flex","width":"100%","justifyContent":"center","alignItems":"center","backgroundColor":"#fff"},"id":1737498314120},"1":{"icon":{},"type":"Text","label":"Text","textarea":"ðŸ“± Get instant access to all Tubeguruji content, tutorials, and community updates! Download the Tubeguruji app today and elevate your YouTube game. Stay connected with us anytime, anywhere! ðŸ”¥","style":{"backgroundColor":"#fff","color":"#000000","padding":"10px","textAlign":["left"],"fontSize":["13px"],"fontWeight":"normal","textTransform":["capitalize"]},"id":1737498315970},"label":"2 Column","type":"column","numOfCol":2,"icon":{},"id":1737498304253},{"0":{"icon":{},"type":"Text","label":"Text","textarea":"ðŸ“± Get instant access to all Tubeguruji content, tutorials, and community updates! Download the Tubeguruji app today and elevate your YouTube game. Stay connected with us anytime, anywhere! ðŸ”¥","style":{"backgroundColor":["#ffffff"],"color":"#000000","padding":"10px","textAlign":["left"],"fontSize":["13px"],"fontWeight":"normal","textTransform":["capitalize"]},"outerStyle":{"backgroundColor":["#d11f1f"],"width":"100%"},"id":1737499072555},"1":{"icon":{},"type":"Image","label":"Image","imageUrl":"/image.png","alt":"Image","url":"#","style":{"backgroundColor":"#ffffff","padding":"10px","height":"50%","width":["100%"],"margin":"0px","borderRadius":"0px"},"outerStyle":{"display":"flex","width":"100%","justifyContent":"center","alignItems":"center","backgroundColor":"#fff"},"id":1737498958056},"label":"2 Column","type":"column","numOfCol":2,"icon":{},"id":1737498950655},{"0":{"icon":{},"type":"Image","label":"Image","imageUrl":"/image.png","alt":"Image","url":"#","style":{"backgroundColor":"#ffffff","padding":"10px","height":"50%","width":["100%"],"margin":"0px","borderRadius":"0px"},"outerStyle":{"display":"flex","width":"100%","justifyContent":"center","alignItems":"center","backgroundColor":"#fff"},"id":1737499155105},"1":{"icon":{},"type":"Text","label":"Text","textarea":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse ","style":{"backgroundColor":"#fff","color":"#000000","padding":"10px","textAlign":["left"],"fontSize":["13px"],"fontWeight":"normal","textTransform":["capitalize"]},"outerStyle":{"backgroundColor":"#fff","width":"100%"},"id":1737499165388},"label":"2 Column","type":"column","numOfCol":2,"icon":{},"id":1737499150418}]\n- Add More column, content with type Images, Button, Text, Logo, LogoHeader and other option if needed\n- Use appropriate type when needed, Do not Exactly copy schema as it is , Make changes depends on Email template topic\n- Write Meaning full text content with Emoji icons if needed\n- For logo add image as \'/logo.svg\' and for image placeholder add \'/image.png\'\n- Give response in JSON format only (Return schema only)\ngenerate email template for beauty product.',
    //       },
    //     ],
    //   },
    {
      role: "model",
      parts: [
        {
          text: '```json\n[\n  {\n    "0": {\n      "icon": {},\n      "type": "LogoHeader",\n      "label": "Logo Header",\n      "imageUrl": "/logo.svg",\n      "alt": "Beauty Brand Logo",\n      "url": "#",\n      "style": {\n        "backgroundColor": "#f8f8f8",\n        "padding": [\n          "10px"\n        ],\n        "height": "auto",\n        "width": [\n          "20%"\n        ]\n      },\n      "outerStyle": {\n        "display": "flex",\n        "justifyContent": [\n          "center"\n        ],\n        "alignItems": "center",\n        "backgroundColor": "#f8f8f8",\n        "width": "100%"\n      },\n      "id": 1737391139265\n    },\n    "label": "Column",\n    "type": "column",\n    "numOfCol": 1,\n    "icon": {},\n    "id": 1737391129199\n  },\n  {\n    "0": {\n      "icon": {},\n      "type": "Image",\n      "label": "Image",\n      "imageUrl": "/image.png",\n      "alt": "Hero Image of Beauty Product",\n      "url": "#",\n      "style": {\n        "backgroundColor": "#ffffff",\n        "padding": "0px",\n        "height": "auto",\n        "width": [\n          "100%"\n        ],\n        "margin": "0px",\n        "borderRadius": "0px"\n      },\n      "outerStyle": {\n        "display": "flex",\n        "width": "100%",\n        "justifyContent": "center",\n        "alignItems": "center",\n        "backgroundColor": "#f8f8f8"\n      },\n      "id": 1737391168265\n    },\n    "label": "Column",\n    "type": "column",\n    "numOfCol": 1,\n    "icon": {},\n    "id": 1737390120654\n  },\n  {\n    "0": {\n      "icon": {},\n      "type": "Text",\n      "label": "Text",\n      "textarea": "âœ¨ Introducing our NEW Radiance Serum! âœ¨\\n\\nGet ready to unlock your skin\'s natural glow with our revolutionary Radiance Serum. Formulated with powerful antioxidants and hydrating ingredients, this serum will leave your skin looking brighter, smoother, and more youthful. Experience the difference today!",\n      "style": {\n        "backgroundColor": "#f8f8f8",\n        "color": "#333333",\n        "padding": "10px",\n        "textAlign": "center",\n        "fontSize": [\n          "18px"\n        ],\n        "fontWeight": "normal",\n        "textTransform": [\n          "capitalize"\n        ]\n      },\n      "id": 1737391200299\n    },\n    "label": "Column",\n    "type": "column",\n    "numOfCol": 1,\n    "icon": {},\n    "id": 1737390127325\n  },\n  {\n    "0": {\n      "icon": {},\n      "label": "Button",\n      "type": "Button",\n      "content": "Shop Now",\n      "url": "#",\n      "style": {\n        "textAlign": "center",\n        "backgroundColor": [\n          "#e91e63"\n        ],\n        "color": "#ffffff",\n        "padding": "12px 24px",\n        "width": "auto",\n        "fontSize": "18px",\n        "borderRadius": "5px",\n        "fontWeight": "bold",\n        "objectFit": "contain"\n      },\n      "outerStyle": {\n        "display": "flex",\n        "justifyContent": "center",\n        "alignItems": "center",\n        "width": "100%"\n      },\n      "id": 1737391224649\n    },\n    "label": "Column",\n    "type": "column",\n    "numOfCol": 1,\n    "icon": {},\n    "id": 1737391222432\n  },\n  {\n    "0": {\n      "icon": {},\n      "type": "Image",\n      "label": "Image",\n      "imageUrl": "/image.png",\n      "alt": "Ingredient 1",\n      "url": "#",\n      "style": {\n        "backgroundColor": "#ffffff",\n        "padding": "10px",\n        "height": "50%",\n        "width": [\n          "100%"\n        ],\n        "margin": "0px",\n        "borderRadius": [\n          "10px"\n        ]\n      },\n      "outerStyle": {\n        "display": "flex",\n        "width": "100%",\n        "justifyContent": "center",\n        "alignItems": "center",\n        "backgroundColor": "#f8f8f8"\n      },\n      "id": 1737498314120\n    },\n    "1": {\n      "icon": {},\n      "type": "Text",\n      "label": "Text",\n      "textarea": "ðŸŒ¿ Key Ingredient: Green Tea Extract ðŸŒ¿\\n\\nRich in antioxidants, green tea extract helps protect your skin from environmental damage and reduces inflammation. It\'s a natural way to keep your skin looking healthy and radiant.",\n      "style": {\n        "backgroundColor": "#f8f8f8",\n        "color": "#666666",\n        "padding": "10px",\n        "textAlign": [\n          "left"\n        ],\n        "fontSize": [\n          "14px"\n        ],\n        "fontWeight": "normal",\n        "textTransform": [\n          "capitalize"\n        ]\n      },\n      "id": 1737498315970\n    },\n    "label": "2 Column",\n    "type": "column",\n    "numOfCol": 2,\n    "icon": {},\n    "id": 1737498304253\n  },\n  {\n    "0": {\n      "icon": {},\n      "type": "Image",\n      "label": "Image",\n      "imageUrl": "/image.png",\n      "alt": "Ingredient 2",\n      "url": "#",\n      "style": {\n        "backgroundColor": "#ffffff",\n        "padding": "10px",\n        "height": "50%",\n        "width": [\n          "100%"\n        ],\n        "margin": "0px",\n        "borderRadius": [\n          "10px"\n        ]\n      },\n      "outerStyle": {\n        "display": "flex",\n        "width": "100%",\n        "justifyContent": "center",\n        "alignItems": "center",\n        "backgroundColor": "#f8f8f8"\n      },\n      "id": 1737499155105\n    },\n    "1": {\n      "icon": {},\n      "type": "Text",\n      "label": "Text",\n      "textarea": "ðŸ’§ Key Ingredient: Hyaluronic Acid ðŸ’§\\n\\nKnown for its incredible hydrating properties, hyaluronic acid helps plump up your skin, reducing the appearance of fine lines and wrinkles. Get ready for a smoother, more hydrated complexion!",\n      "style": {\n        "backgroundColor": "#f8f8f8",\n        "color": "#666666",\n        "padding": "10px",\n        "textAlign": [\n          "left"\n        ],\n        "fontSize": [\n          "14px"\n        ],\n        "fontWeight": "normal",\n        "textTransform": [\n          "capitalize"\n        ]\n      },\n      "outerStyle": {\n        "backgroundColor": "#f8f8f8",\n        "width": "100%"\n      },\n      "id": 1737499165388\n    },\n    "label": "2 Column",\n    "type": "column",\n    "numOfCol": 2,\n    "icon": {},\n    "id": 1737499150418\n  },\n  {\n    "0": {\n      "icon": {},\n      "type": "Text",\n      "label": "Text",\n      "textarea": "ðŸ’– Don\'t miss out on our limited-time offer! ðŸ’–\\n\\nOrder your Radiance Serum today and receive a FREE travel-sized cleanser. This offer won\'t last long, so grab yours now and start your journey to radiant skin!",\n      "style": {\n        "backgroundColor": "#f8f8f8",\n        "color": "#333333",\n        "padding": "10px",\n        "textAlign": "center",\n        "fontSize": [\n          "16px"\n        ],\n        "fontWeight": "normal",\n        "textTransform": [\n          "capitalize"\n        ]\n      },\n      "outerStyle": {\n        "backgroundColor": "#f8f8f8",\n        "width": "100%"\n      },\n      "id": 1737499255987\n    },\n    "label": "Column",\n    "type": "column",\n    "numOfCol": 1,\n    "icon": {},\n    "id": 1737499250282\n  },\n  {\n    "0": {\n      "icon": {},\n      "label": "Button",\n      "type": "Button",\n      "content": "Shop Now & Get Your FREE Gift!",\n      "url": "#",\n      "style": {\n        "textAlign": "center",\n        "backgroundColor": [\n          "#e91e63"\n        ],\n        "color": "#ffffff",\n        "padding": "12px 24px",\n        "width": "auto",\n        "fontSize": "18px",\n        "borderRadius": "5px",\n        "fontWeight": "bold",\n        "objectFit": "contain"\n      },\n      "outerStyle": {\n        "display": "flex",\n        "justifyContent": "center",\n        "alignItems": "center",\n        "width": "100%"\n      },\n      "id": 1737499300486\n    },\n    "label": "Column",\n    "type": "column",\n    "numOfCol": 1,\n    "icon": {},\n    "id": 1737499295273\n  }\n]\n```',
        },
      ],
    },
  ],
});

//   const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
//   console.log(result.response.text());
